---
title: "leaflet test"
author: "Hiroaki Yutani"
date: "`r Sys.Date()`"
output:
  revealjs::revealjs_presentation
---

## test

```{r echo=FALSE}
knit_print.htmlwidget <- function (widget, ..., options = NULL) 
{
  WIDTH  <- "100%"
  HEIGHT <- 500
  
  file <- basename(tempfile(fileext = ".html"))
  selfcontained <- if(is.null(rmarkdown::metadata$self_contained)) TRUE else rmarkdown::metadata$self_contained
  
  htmlwidgets::saveWidget(widget, file = file, selfcontained = selfcontained)
  content <- if (selfcontained) {
        on.exit(unlink(file), add = TRUE)
        list(srcdoc = paste(readLines(file), collapse = "\n"), 
            width = WIDTH, height = HEIGHT)
    }
    else {
        list(src = file, width = WIDTH, height = HEIGHT)
    }
  
  x <- htmltools::tag("iframe", content)
  
  knitr::knit_print(x, options = options, ...)
}

library(leaflet)

leaflet() %>% addTiles()
```
